{% extends "layout.html" %}
{%load static%}
{% block title%}create order{%endblock%}
{%block style%}
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-image: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        input:focus, select:focus, textarea:focus {
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
        }
    </style>
{%endblock%}
{%block content%}

    <div class="glass-card p-8 rounded-2xl w-full max-w-md m-4">
        <h2 class="text-3xl font-extrabold mb-6 text-center text-white">Create Order</h2>
        <div>
            <form action="{%url 'orders:new_order'%}" method="post">
            {% csrf_token %}
            {{form}}
            <button type="submit">Create</button>
            </form>
        </div>
    </div>


    {% comment %} needs customisation{% endcomment %}

    <script>
        // Basic client-side validation and submission handling
        document.querySelector('button').addEventListener('click', function(e) {
            const inputs = document.querySelectorAll('input[required], select[required]');
            let valid = true;

            inputs.forEach(input => {
                if (!input.value) {
                    valid = false;
                    input.classList.add('border-red-500');
                } else {
                    input.classList.remove('border-red-500');
                }
            });

            if (valid) {
                alert('Order submitted successfully!');
                // Here I can add code to send form data to a server
                // e.g., using fetch() to send a POST request
            } else {
                alert('Please fill in all required fields.');
            }
        });
    </script>
{% endblock %}
